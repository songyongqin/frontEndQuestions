<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    
    function Otaku (name, age) {
      
      this.age = age;
      this.name = name

      // return {
      //   name: name,
      //   habit: 'Games'
      // }
      // return "123"
    }
    Otaku.prototype.length = 20

    // var person = new Otaku('Kevin', '18');

    // console.log(person.name) // Kevin
    // console.log(person.habit) // Games
    // console.log(person.strength) // undefined
    // console.log(person.age) // undefined

    // function objectFactory() {
    //   var obj = new Object();
    //   Constructor = [].shift.call(arguments);

    //   obj.__proto__ = Constructor.prototype;

    //   Constructor.apply(obj, arguments);

    //   return obj;

    // };

    // let obj = objectFactory(Otaku,'jack',16)
    // console.log(obj)








      // 第二版的代码
      // function objectFactory() {

      //   var obj = new Object();

      //   Constructor = [].shift.call(arguments);

      //   obj.__proto__ = Constructor.prototype;

      //   console.log(arguments)
      //   var ret = Constructor.apply(obj, arguments);
      //   // var ret = Constructor.apply(obj, ['jack',16]);
      //   // var ret = Constructor.apply(obj, {0:'jack',1:16,length: 2});
      //   return typeof ret === 'object' ? ret : obj;
      // };

      // let obj = objectFactory(Otaku,'jack',16)
      // console.log(obj)

      function clone () {
        let obj = {}
        // let Constructor = [].splice.call(arguments,0,1)[0]
        let Constructor = [].shift.call(arguments)


        let res = Constructor.apply(obj,arguments)
        obj.__proto__ = Constructor.prototype
        return typeof res === 'object' ? ret : obj;
      }
      let obj = clone(Otaku,'jack',16)
      console.log(obj)




    

  </script>
</body>
</html>